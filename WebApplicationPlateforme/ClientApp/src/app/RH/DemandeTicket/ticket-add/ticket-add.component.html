

<app-nav-menu></app-nav-menu>
<!-- Page Content -->
<div class="content">
  <div class="row">
    <div class="col-md-3 col-sm-4">
      <app-side-menu></app-side-menu>
    </div>

    <div class="col-md-9 col-sm-8">
      <nav class="d-flex p-0 bd-highlight tasks-nav mt-2 finance-nav">

        <a [routerLink]="['/ticket-add']" class="p-2 flex-fill bd-highlight stop-btn">
          <span><i class="fa fa-plus"></i></span>
          إضافة تذكرة
        </a>

        <a [routerLink]="['/ticket-list-client']" class="p-2 flex-fill bd-highlight stop-btn">
          <span><i class="fa fa-list"></i></span>
          قائمة التذاكر
        </a>

      </nav>
      <header>
        <h3 class="task-head">إضافة تذكرة</h3>
      </header>
      <form class="form-row task-form" #form="ngForm" autocomplete="off" (submit)="onSubmit(form)">
        <div class="col-md-6">
          <label for="">العنوان </label>
          <input class="form-control" type="text" name="titre" #titre="ngModel" [(ngModel)]="ticket.titre" required />
          <div *ngIf="titre.invalid && form.submitted && !isValidFormSubmitted" class="alert alert-danger">
            مطلوب عنوان التذكرة .
          </div>

        </div>
        <div class="col-md-6">
          <label for="">التفاصيل</label>
          <textarea class="form-control" name="details" #details="ngModel" [(ngModel)]="ticket.details" required></textarea>

          <div *ngIf="details.invalid && form.submitted && !isValidFormSubmitted" class="alert alert-danger">
            مطلوب تفاصيل التذكرة  .
          </div>
        </div>

        <div class="col-sm-12">
          <label for="">إضافة المرفقات</label>
          <ngx-dropzone (change)="upload($event);onSelect($event)" class="dropzone" #inputFile>
            <ngx-dropzone-label>اسحب المرفقات هنا او اضغط للتحميل</ngx-dropzone-label>
            <ngx-dropzone-preview *ngFor="let f of files1" [removable]="true" (removed)="onRemove(f)">
              <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
            </ngx-dropzone-preview>
          </ngx-dropzone>
        </div>

        <div class="col-12 text-center text-md-left mt-3">
          <input class="btn btn-info"
                 style="width: 130px;"
                 type="submit"
                 value="تقديم" />
        </div>
      </form>
    </div>
  </div>

</div>
<!-- Footer -->
<footer class="text-center">
  <p>جمعية الدعوة والإرشاد وتوعية الجاليات في محافظة أبوعريش  <img src="assets/images/logo000.png" style="width:40px;height:40px;"> </p>
</footer>
